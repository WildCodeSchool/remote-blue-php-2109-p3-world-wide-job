{% extends 'profile.html.twig' %}

{% block title %}Edit Company{% endblock %}

{% block banner %}
    {{ form_start(form) }}
    <img src="{{ asset('build/images/workbanner.jpg') }}" class="profile-banner" alt="profile banner">
{% endblock %}
{% block picture %}
    <div class="profile-title title-edit">
        <div>

            <img src="{{ vich_uploader_asset(company) }}" class="profile-picture picture-edit"
                 alt="company.companyName">
            {{ form_widget(form.logoFile) }}
        </div>
        <h2 class="profile-name mt-lg-4">  {{ form_widget(form.companyName) }}  </h2>
    </div>
{% endblock %}
{% block information %}
    <div class="profile-localisation localisation-edit">

        <pclass
        ="d-flex">{{ form_widget(form.user.city, {'attr': {'class': 'ms-1 me-1'}}) }}
        {{ form_widget(form.user.zip, {'attr': {'class': 'ms-1 me-1 w-25'}}) }}
        {{ form_widget(form.user.adress1, {'attr': {'class': 'ms-1 me-1 w-75'}}) }}
        {{ form_widget(form.user.adress2, {'attr': {'class': 'ms-1 me-1 w-50'}}) }}
        {{ form_widget(form.user.country, {'attr': {'class': 'ms-1 me-1 w-50'}}) }}</p>

    </div>

    <div class="profile-presentation">
        <h3>Présentation</h3>
        <p> {{ form_widget(form.description) }}</p>
    </div>
{% endblock %}
{% block profileBottom %}

    <div class="profile-offer mx-4 my-3 py-lg-3">
        <h3> Informations privées </h3>
        <div class="profile-offer-head d-flex justify-content-between align-items-center mb-2">
            <h4 class="profile-offer-title d-flex align-items-center my-0 my-lg-2"> {{ form_label(form.user.phone) }}
                <span class="m-2"> </span> {{ form_widget(form.user.phone) }} </h4>
            <h4 class="profile-offer-title d-flex align-items-center my-0 my-lg-2">Mail<span
                        class="m-2"> </span> {{ form_widget(form.user.email) }}</h4>
        </div>
        <div class="profile-offer-head d-flex justify-content-between align-items-center mb-2">
            <h4 class="profile-offer-title d-flex align-items-center my-0 my-lg-2"> {{ form_label(form.siret, null, {'attr': {'class': 'label-nowrap'}}) }}
                <span class="m-2"> </span> {{ form_widget(form.siret) }}</h4>
            <h4 class="profile-offer-title d-flex align-items-center my-0 my-lg-2">   {{ form_label(form.siren, "N° SIREN :", {'attr': {'class': 'label-nowrap'}}) }}
                <span class="m-2"> </span> {{ form_widget(form.siren) }}</h4>
        </div>
        <div class="profile-offer-head d-flex justify-content-between align-items-center mb-2">
            {{ form_row(form.companyFormat) }}
        </div>
    </div>
    <button class="btn btn-edit update-edit text-end"><i class="fas fa-save me-1"></i></button>

    {{ form_end(form) }}

    {{ form_start(passwordForm) }}

    <div class="profile-offer mx-4 my-3 py-lg-3">
        <h3> Changer de mot de passe </h3>
        <div class="profile-offer-head d-flex justify-content-between align-items-center mb-2">
            <h4 class="profile-offer-title d-flex align-items-center my-0 my-lg-2"> {{ form_row(passwordForm.plainPassword.first) }}
                <span class="m-3"> </span> {{ form_row(passwordForm.plainPassword.second) }}</h4>
            <button class="btn btn-secondary w-auto password-btn ms-2" type="submit"> Changer</button>
        </div>

        {{ form_end(passwordForm) }}

    </div>



    <form method="post" action="{{ path('company_delete', {'id': company.id}) }}"
          onsubmit="return confirm('Voulez vous vraiment supprimer votre compte ?');">
        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ company.id) }}">
        <button class="btn btn-edit delete-edit text-end"><i class="fa fa-trash me-1"></i></button>
    </form>

{% endblock %}
