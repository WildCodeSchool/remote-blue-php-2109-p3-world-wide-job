{% extends 'profile.html.twig' %}

{% block title %}Edit Company{% endblock %}

{% block banner %}
    {{ form_start(form) }}
    <img src="{{ asset('build/images/workbanner.jpg') }}" class="profile-banner" alt="profile banner">
{% endblock %}
{% block picture %}
    <div class="profile-title title-edit">
        <div>

            <img src="{{ vich_uploader_asset(school) }}" class="profile-picture picture-edit"
                 alt="company.companyName">
            {{ form_widget(form.logoFile) }}
        </div>
        <div class="profile-name mt-lg-4">  {{ form_widget(form.schoolName) }}  </div>
    </div>
{% endblock %}
{% block information %}
    <div class="profile-localisation localisation-edit">

        <div class="d-flex">
            {{ form_widget(userForm.city, {'attr': {'class': 'ms-1 me-1'}}) }}
            {{ form_widget(userForm.zip, {'attr': {'class': 'ms-1 me-1 w-25'}}) }}
            {{ form_widget(userForm.adress1, {'attr': {'class': 'ms-1 me-1 w-75'}}) }}
            {{ form_widget(userForm.adress2, {'attr': {'class': 'ms-1 me-1 w-50'}}) }}
            {{ form_widget(userForm.country, {'attr': {'class': 'ms-1 me-1 w-50'}}) }}</div>

    </div>

    <div class="profile-presentation mt-4">
        <h3>Présentation</h3>
        <p> {{ form_widget(form.schoolDesc) }}</p>
    </div>
{% endblock %}
{% block profileBottom %}

    <div class="profile-offer mx-4 my-3 py-lg-3">
        <h3> Informations privées </h3>
        <div class="profile-offer-head d-flex justify-content-between align-items-center mb-2">
            <div class="profile-offer-title d-flex align-items-center my-0 my-lg-2"> {{ form_label(userForm.phone) }}
                <span class="m-2"> </span> {{ form_widget(userForm.phone) }} </div>
            <div class="profile-offer-title d-flex align-items-center my-0 my-lg-2">Mail<span
                        class="m-2"> </span> {{ form_widget(userForm.email) }}</div>
            <div>  {{ form_errors(userForm.email) }}</div>
        </div>
        <div class="profile-offer-head d-flex justify-content-between align-items-center mb-2">
            <div class="profile-offer-title d-flex align-items-center my-0 my-lg-2"> {{ form_label(form.schoolCode, null, {'attr': {'class': 'label-nowrap'}}) }}
                <span class="m-2"> </span> {{ form_widget(form.schoolCode) }}</div>
            <div class="profile-offer-head d-flex justify-content-between align-items-center mb-2">
                {{ form_row(form.type) }}
            </div>
        </div>

    </div>
    <button class="btn btn-edit update-edit text-end"><i class="fas fa-save me-1"></i></button>

    {{ form_end(form) }}

    {{ form_start(passwordForm) }}

    <div class="profile-offer mx-4 my-3 py-lg-3">
        <h3> Changer de mot de passe </h3>
        <div class="profile-offer-head d-flex justify-content-between align-items-center mb-2">
            <div class="profile-offer-title d-flex align-items-center my-0 my-lg-2"> {{ form_row(passwordForm.plainPassword.first) }}
                <span class="m-3"> </span> {{ form_row(passwordForm.plainPassword.second) }}</div>
            <button class="btn btn-secondary w-auto password-btn ms-2" type="submit"> Changer</button>
        </div>

        {{ form_end(passwordForm) }}

    </div>



    <form method="post" action="{{ path('school_delete', {'slug': school.slug}) }}"
          onsubmit="return confirm('Voulez vous vraiment supprimer votre compte ?');">
        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ school.id) }}">
        <button class="btn btn-edit delete-edit text-end"><i class="fa fa-trash me-1"></i></button>
    </form>

{% endblock %}
